{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/html-to-image/lib/utils.js","../../node_modules/html-to-image/lib/clonePseudoElements.js","../../node_modules/html-to-image/lib/cloneNode.js","../../node_modules/html-to-image/lib/getBlobFromURL.js","../../node_modules/html-to-image/lib/embedResources.js","../../node_modules/html-to-image/lib/embedWebFonts.js","../../node_modules/html-to-image/lib/embedImages.js","../../node_modules/html-to-image/lib/createSvgDataURL.js","../../node_modules/html-to-image/lib/applyStyleWithOptions.js","../../node_modules/html-to-image/lib/index.js","../../node_modules/file-saver/dist/FileSaver.min.js","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (!store || typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, callback) {\n    const unsub = store.subscribe(callback);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if (typeof $$scope.dirty === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            for (let j = 0; j < node.attributes.length; j += 1) {\n                const attribute = node.attributes[j];\n                if (!attributes[attribute.name])\n                    node.removeAttribute(attribute.name);\n            }\n            return nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.setAttribute('aria-hidden', 'true');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nfunction flush() {\n    const seen_callbacks = new Set();\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (dirty_components.length) {\n            const component = dirty_components.shift();\n            set_current_component(component);\n            update(component.$$);\n        }\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                callback();\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction measure(blocks) {\n    const rects = {};\n    let i = blocks.length;\n    while (i--)\n        rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();\n    return rects;\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.17.1' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, listen_dev, loop, loop_guard, measure, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_store, xlink_attr };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WOFF = 'application/font-woff';\nvar JPEG = 'image/jpeg';\nvar mimes = {\n    woff: WOFF,\n    woff2: WOFF,\n    ttf: 'application/font-truetype',\n    eot: 'application/vnd.ms-fontobject',\n    png: 'image/png',\n    jpg: JPEG,\n    jpeg: JPEG,\n    gif: 'image/gif',\n    tiff: 'image/tiff',\n    svg: 'image/svg+xml',\n};\nexports.uuid = (function uuid() {\n    // generate uuid for className of pseudo elements.\n    // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n    var counter = 0;\n    // ref: http://stackoverflow.com/a/6248722/2519373\n    var randomFourChars = function () {\n        return (\"0000\" + (Math.random() * (Math.pow(36, 4)) << 0).toString(36)).slice(-4);\n    };\n    return function () {\n        counter += 1;\n        return \"u\" + randomFourChars() + counter;\n    };\n}());\nfunction parseExtension(url) {\n    var match = /\\.([^./]*?)$/g.exec(url);\n    if (match)\n        return match[1];\n    return '';\n}\nexports.parseExtension = parseExtension;\nfunction getMimeType(url) {\n    var ext = parseExtension(url).toLowerCase();\n    return mimes[ext] || '';\n}\nexports.getMimeType = getMimeType;\nfunction delay(ms) {\n    return function (args) { return new Promise((function (resolve) {\n        setTimeout(function () {\n            resolve(args);\n        }, ms);\n    })); };\n}\nexports.delay = delay;\nfunction createImage(url) {\n    return new Promise((function (resolve, reject) {\n        var image = new Image();\n        image.onload = function () {\n            resolve(image);\n        };\n        image.onerror = reject;\n        image.crossOrigin = 'anonymous';\n        image.src = url;\n    }));\n}\nexports.createImage = createImage;\nfunction isDataUrl(url) {\n    return url.search(/^(data:)/) !== -1;\n}\nexports.isDataUrl = isDataUrl;\nfunction toDataURL(content, mimeType) {\n    return \"data:\" + mimeType + \";base64,\" + content;\n}\nexports.toDataURL = toDataURL;\nfunction getDataURLContent(dataURL) {\n    return dataURL.split(/,/)[1];\n}\nexports.getDataURLContent = getDataURLContent;\nfunction toBlob(canvas) {\n    return new Promise((function (resolve) {\n        var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n        var len = binaryString.length;\n        var binaryArray = new Uint8Array(len);\n        for (var i = 0; i < len; i += 1) {\n            binaryArray[i] = binaryString.charCodeAt(i);\n        }\n        resolve(new Blob([binaryArray], {\n            type: 'image/png',\n        }));\n    }));\n}\nfunction canvasToBlob(canvas) {\n    if (canvas.toBlob) {\n        return new Promise((function (resolve) {\n            canvas.toBlob(resolve);\n        }));\n    }\n    return toBlob(canvas);\n}\nexports.canvasToBlob = canvasToBlob;\nfunction toArray(arrayLike) {\n    var arr = [];\n    for (var i = 0, l = arrayLike.length; i < l; i += 1) {\n        arr.push(arrayLike[i]);\n    }\n    return arr;\n}\nexports.toArray = toArray;\nfunction px(node, styleProperty) {\n    var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\n    return parseFloat(value.replace('px', ''));\n}\nfunction getNodeWidth(node) {\n    var leftBorder = px(node, 'border-left-width');\n    var rightBorder = px(node, 'border-right-width');\n    return node.scrollWidth + leftBorder + rightBorder;\n}\nexports.getNodeWidth = getNodeWidth;\nfunction getNodeHeight(node) {\n    var topBorder = px(node, 'border-top-width');\n    var bottomBorder = px(node, 'border-bottom-width');\n    return node.scrollHeight + topBorder + bottomBorder;\n}\nexports.getNodeHeight = getNodeHeight;\nfunction getPixelRatio() {\n    return (window.devicePixelRatio || 1);\n}\nexports.getPixelRatio = getPixelRatio;\nfunction svgToDataURL(svg) {\n    return Promise.resolve()\n        .then(function () { return new XMLSerializer().serializeToString(svg); })\n        .then(encodeURIComponent)\n        .then(function (html) { return \"data:image/svg+xml;charset=utf-8,\" + html; });\n}\nexports.svgToDataURL = svgToDataURL;\nfunction getBlobFromImageURL(url) {\n    return createImage(url).then(function (image) {\n        var width = image.width, height = image.height;\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        var ratio = getPixelRatio();\n        canvas.width = width * ratio;\n        canvas.height = height * ratio;\n        canvas.style.width = \"\" + width;\n        canvas.style.height = \"\" + height;\n        context.scale(ratio, ratio);\n        context.drawImage(image, 0, 0);\n        var dataURL = canvas.toDataURL(getMimeType(url));\n        return getDataURLContent(dataURL);\n    });\n}\nexports.getBlobFromImageURL = getBlobFromImageURL;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nfunction formatCssText(style) {\n    var content = style.getPropertyValue('content');\n    return style.cssText + \" content: \" + content + \";\";\n}\nfunction formatCssProperties(style) {\n    return utils_1.toArray(style).map(function (name) {\n        var value = style.getPropertyValue(name);\n        var priority = style.getPropertyPriority(name);\n        return name + \": \" + value + (priority ? ' !important' : '') + \";\";\n    }).join(' ');\n}\nfunction getPseudoElementStyle(className, pseudo, style) {\n    var selector = \".\" + className + \":\" + pseudo;\n    var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n    return document.createTextNode(selector + \"{\" + cssText + \"}\");\n}\nfunction clonePseudoElement(nativeNode, clonedNode, pseudo) {\n    var style = window.getComputedStyle(nativeNode, pseudo);\n    var content = style.getPropertyValue('content');\n    if (content === '' || content === 'none') {\n        return;\n    }\n    var className = utils_1.uuid();\n    var styleElement = document.createElement('style');\n    styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n    clonedNode.className = clonedNode.className + \" \" + className;\n    clonedNode.appendChild(styleElement);\n}\nfunction clonePseudoElements(nativeNode, clonedNode) {\n    [\n        ':before',\n        ':after',\n    ].forEach(function (pseudo) { return clonePseudoElement(nativeNode, clonedNode, pseudo); });\n}\nexports.default = clonePseudoElements;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar clonePseudoElements_1 = __importDefault(require(\"./clonePseudoElements\"));\nfunction cloneSingleNode(nativeNode) {\n    if (nativeNode instanceof HTMLCanvasElement) {\n        return utils_1.createImage(nativeNode.toDataURL());\n    }\n    if (nativeNode.tagName && nativeNode.tagName.toLowerCase() === 'svg') {\n        return Promise.resolve(nativeNode)\n            .then(function (svg) { return utils_1.svgToDataURL(svg); })\n            .then(utils_1.createImage);\n    }\n    return Promise.resolve(nativeNode.cloneNode(false));\n}\nfunction cloneChildren(nativeNode, clonedNode, filter) {\n    var children = utils_1.toArray(nativeNode.childNodes);\n    if (children.length === 0) {\n        return Promise.resolve(clonedNode);\n    }\n    // clone children in order\n    return children.reduce(function (done, child) { return done\n        .then(function () { return cloneNode(child, filter); })\n        .then(function (clonedChild) {\n        if (clonedChild) {\n            clonedNode.appendChild(clonedChild);\n        }\n    }); }, Promise.resolve())\n        .then(function () { return clonedNode; });\n}\nfunction cloneCssStyle(nativeNode, clonedNode) {\n    var source = window.getComputedStyle(nativeNode);\n    var target = clonedNode.style;\n    if (source.cssText) {\n        target.cssText = source.cssText;\n    }\n    else {\n        utils_1.toArray(source).forEach(function (name) {\n            target.setProperty(name, source.getPropertyValue(name), source.getPropertyPriority(name));\n        });\n    }\n}\nfunction cloneInputValue(nativeNode, clonedNode) {\n    if (nativeNode instanceof HTMLTextAreaElement) {\n        clonedNode.innerHTML = nativeNode.value;\n    }\n    if (nativeNode instanceof HTMLInputElement) {\n        clonedNode.setAttribute('value', nativeNode.value);\n    }\n}\nfunction decorate(nativeNode, clonedNode) {\n    if (!(clonedNode instanceof Element)) {\n        return clonedNode;\n    }\n    return Promise.resolve()\n        .then(function () { return cloneCssStyle(nativeNode, clonedNode); })\n        .then(function () { return clonePseudoElements_1.default(nativeNode, clonedNode); })\n        .then(function () { return cloneInputValue(nativeNode, clonedNode); })\n        .then(function () { return clonedNode; });\n}\nfunction cloneNode(domNode, filter, isRoot) {\n    if (!isRoot && filter && !filter(domNode)) {\n        return Promise.resolve(null);\n    }\n    return Promise.resolve(domNode)\n        .then(cloneSingleNode)\n        .then(function (clonedNode) { return cloneChildren(domNode, clonedNode, filter); })\n        .then(function (clonedNode) { return decorate(domNode, clonedNode); });\n}\nexports.default = cloneNode;\n","\"use strict\";\n/* tslint:disable:max-line-length */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\n// KNOWN ISSUE\n// -----------\n// Can not handle redirect-url, such as when access 'http://something.com/avatar.png'\n// will redirect to 'http://something.com/65fc2ffcc8aea7ba65a1d1feda173540'\nvar TIMEOUT = 30000;\nfunction getBlobFromURL(url, options) {\n    // cache bypass so we dont have CORS issues with cached images\n    // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n    if (options.cacheBust) {\n        url += ((/\\?/).test(url) ? '&' : '?') + (new Date()).getTime(); // tslint:disable-line\n    }\n    var failed = function (reason) {\n        var placeholder = '';\n        if (options.imagePlaceholder) {\n            var split = options.imagePlaceholder.split(/,/);\n            if (split && split[1]) {\n                placeholder = split[1];\n            }\n        }\n        var msg = \"Failed to fetch resource: \" + url;\n        if (reason) {\n            msg = typeof reason === 'string' ? reason : reason.message;\n        }\n        if (msg) {\n            console.error(msg);\n        }\n        return placeholder;\n    };\n    var deferred = window.fetch\n        // fetch\n        ? window.fetch(url)\n            .then(function (response) { return response.blob(); })\n            .then(function (blob) { return new Promise(function (resolve, reject) {\n            var reader = new FileReader();\n            reader.onloadend = function () { return resolve(reader.result); };\n            reader.onerror = reject;\n            reader.readAsDataURL(blob);\n        }); })\n            .then(utils_1.getDataURLContent)\n            .catch(function () { return new Promise(function (resolve, reject) {\n            reject();\n        }); })\n        // xhr\n        : new Promise((function (resolve, reject) {\n            var req = new XMLHttpRequest();\n            var timeout = function () {\n                reject(new Error(\"Timeout of \" + TIMEOUT + \"ms occured while fetching resource: \" + url));\n            };\n            var done = function () {\n                if (req.readyState !== 4) {\n                    return;\n                }\n                if (req.status !== 200) {\n                    reject(new Error(\"Failed to fetch resource: \" + url + \", status: \" + req.status));\n                    return;\n                }\n                var encoder = new FileReader();\n                encoder.onloadend = function () {\n                    resolve(utils_1.getDataURLContent(encoder.result));\n                };\n                encoder.readAsDataURL(req.response);\n            };\n            req.onreadystatechange = done;\n            req.ontimeout = timeout;\n            req.responseType = 'blob';\n            req.timeout = TIMEOUT;\n            req.open('GET', url, true);\n            req.send();\n        }));\n    return deferred.catch(failed);\n}\nexports.default = getBlobFromURL;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar getBlobFromURL_1 = __importDefault(require(\"./getBlobFromURL\"));\nvar utils_1 = require(\"./utils\");\nvar URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nfunction resolveUrl(url, baseUrl) {\n    // url is absolute already\n    if (url.match(/^[a-z]+:\\/\\//i)) {\n        return url;\n    }\n    // url is absolute already, without protocol\n    if (url.match(/^\\/\\//)) {\n        return window.location.protocol + url;\n    }\n    // dataURI, mailto:, tel:, etc.\n    if (url.match(/^[a-z]+:/i)) {\n        return url;\n    }\n    var doc = document.implementation.createHTMLDocument();\n    var base = doc.createElement('base');\n    var a = doc.createElement('a');\n    doc.head.appendChild(base);\n    doc.body.appendChild(a);\n    if (baseUrl) {\n        base.href = baseUrl;\n    }\n    a.href = url;\n    return a.href;\n}\nfunction escape(url) {\n    return url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n}\nfunction urlToRegex(url) {\n    return new RegExp(\"(url\\\\(['\\\"]?)(\" + escape(url) + \")(['\\\"]?\\\\))\", 'g');\n}\nfunction parseURLs(str) {\n    var result = [];\n    str.replace(URL_REGEX, function (raw, quotation, url) {\n        result.push(url);\n        return raw;\n    });\n    return result.filter(function (url) { return !utils_1.isDataUrl(url); });\n}\nfunction embed(cssString, resourceURL, baseURL, options) {\n    var resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n    return Promise.resolve(resolvedURL)\n        .then(function (url) { return getBlobFromURL_1.default(url, options); })\n        .then(function (data) { return utils_1.toDataURL(data, utils_1.getMimeType(resourceURL)); })\n        .then(function (dataURL) { return cssString.replace(urlToRegex(resourceURL), \"$1\" + dataURL + \"$3\"); })\n        .then(function (content) { return content; }, function () { return resolvedURL; });\n}\nfunction shouldEmbed(string) {\n    return string.search(URL_REGEX) !== -1;\n}\nexports.shouldEmbed = shouldEmbed;\nfunction embedResources(cssString, baseUrl, options) {\n    if (!shouldEmbed(cssString)) {\n        return Promise.resolve(cssString);\n    }\n    return Promise.resolve(cssString)\n        .then(parseURLs)\n        .then(function (urls) { return urls.reduce(function (done, url) { return done.then(function (ret) { return embed(ret, url, baseUrl, options); }); }, Promise.resolve(cssString)); });\n}\nexports.default = embedResources;\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar embedResources_1 = __importStar(require(\"./embedResources\"));\nfunction parseCSS(source) {\n    if (source === undefined) {\n        return [];\n    }\n    var cssText = source;\n    var css = [];\n    var cssKeyframeRegex = '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})';\n    var combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]'\n        + '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'; // to match css & media queries together\n    var cssCommentsRegex = new RegExp('(\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)', 'gi');\n    // strip out comments\n    cssText = cssText.replace(cssCommentsRegex, '');\n    var keyframesRegex = new RegExp(cssKeyframeRegex, 'gi');\n    var arr;\n    while (true) {\n        arr = keyframesRegex.exec(cssText);\n        if (arr === null) {\n            break;\n        }\n        css.push(arr[0]);\n    }\n    cssText = cssText.replace(keyframesRegex, '');\n    // unified regex\n    var unified = new RegExp(combinedCSSRegex, 'gi');\n    while (true) {\n        arr = unified.exec(cssText);\n        if (arr === null) {\n            break;\n        }\n        css.push(arr[0]);\n    }\n    return css;\n}\nfunction fetchCSS(url, sheet) {\n    return fetch(url).then(function (res) {\n        return {\n            url: url,\n            cssText: res.text(),\n        };\n    }, function (e) {\n        console.log('ERROR FETCHING CSS: ', e.toString());\n    });\n}\nfunction embedFonts(data) {\n    return data.cssText.then(function (resolved) {\n        var cssText = resolved;\n        var fontLocations = cssText.match(/url\\([^)]+\\)/g) || [];\n        var fontLoadedPromises = fontLocations.map(function (location) {\n            var url = location.replace(/url\\(([^]+)\\)/g, '$1');\n            if (!url.startsWith('https://')) {\n                var source = data.url;\n                url = new URL(url, source).href;\n            }\n            return new Promise(function (resolve, reject) {\n                fetch(url)\n                    .then(function (res) { return res.blob(); })\n                    .then(function (blob) {\n                    var reader = new FileReader();\n                    reader.addEventListener('load', function (res) {\n                        // Side Effect\n                        cssText = cssText.replace(location, \"url(\" + reader.result + \")\");\n                        resolve([location, reader.result]);\n                    });\n                    reader.readAsDataURL(blob);\n                })\n                    .catch(reject);\n            });\n        });\n        return Promise.all(fontLoadedPromises).then(function () { return cssText; });\n    });\n}\nfunction getCssRules(styleSheets) {\n    var ret = [];\n    var promises = [];\n    // First loop inlines imports\n    styleSheets.forEach(function (sheet) {\n        if ('cssRules' in sheet) {\n            try {\n                utils_1.toArray(sheet.cssRules).forEach(function (item) {\n                    if (item.type === CSSRule.IMPORT_RULE) {\n                        promises.push(fetchCSS(item.href, sheet)\n                            .then(embedFonts)\n                            .then(function (cssText) {\n                            var parsed = parseCSS(cssText);\n                            parsed.forEach(function (rule) {\n                                sheet.insertRule(rule, sheet.cssRules.length);\n                            });\n                        })\n                            .catch(function (e) {\n                            console.log('Error loading remote css', e.toString());\n                        }));\n                    }\n                });\n            }\n            catch (e) {\n                var inline_1 = styleSheets.find(function (a) { return a.href === null; }) || document.styleSheets[0];\n                if (sheet.href != null) {\n                    promises.push(fetchCSS(sheet.href, inline_1)\n                        .then(embedFonts)\n                        .then(function (cssText) {\n                        var parsed = parseCSS(cssText);\n                        parsed.forEach(function (rule) {\n                            inline_1.insertRule(rule, sheet.cssRules.length);\n                        });\n                    })\n                        .catch(function (e) {\n                        console.log('Error loading remote stylesheet', e.toString());\n                    }));\n                }\n                console.log('Error inlining remote css file', e.toString());\n            }\n        }\n    });\n    return Promise\n        .all(promises)\n        .then(function () {\n        // Second loop parses rules\n        styleSheets.forEach(function (sheet) {\n            if ('cssRules' in sheet) {\n                try {\n                    utils_1.toArray(sheet.cssRules).forEach(function (item) {\n                        ret.push(item);\n                    });\n                }\n                catch (e) {\n                    console.log(\"Error while reading CSS rules from \" + sheet.href, e.toString());\n                }\n            }\n        });\n        return ret;\n    });\n}\nfunction getWebFontRules(cssRules) {\n    return cssRules\n        .filter(function (rule) { return rule.type === CSSRule.FONT_FACE_RULE; })\n        .filter(function (rule) { return embedResources_1.shouldEmbed(rule.style.getPropertyValue('src')); });\n}\nfunction parseWebFontRules(clonedNode) {\n    return new Promise(function (resolve, reject) {\n        if (!clonedNode.ownerDocument) {\n            reject(new Error('Provided element is not within a Document'));\n        }\n        resolve(utils_1.toArray(clonedNode.ownerDocument.styleSheets));\n    })\n        .then(getCssRules)\n        .then(getWebFontRules);\n}\nexports.parseWebFontRules = parseWebFontRules;\nfunction embedWebFonts(clonedNode, options) {\n    return parseWebFontRules(clonedNode)\n        .then(function (rules) { return Promise.all(rules.map(function (rule) {\n        var baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n        return embedResources_1.default(rule.cssText, baseUrl, options);\n    })); })\n        .then(function (cssStrings) { return cssStrings.join('\\n'); })\n        .then(function (cssString) {\n        var styleNode = document.createElement('style');\n        var sytleContent = document.createTextNode(cssString);\n        styleNode.appendChild(sytleContent);\n        if (clonedNode.firstChild) {\n            clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n        }\n        else {\n            clonedNode.appendChild(styleNode);\n        }\n        return clonedNode;\n    });\n}\nexports.default = embedWebFonts;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar getBlobFromURL_1 = __importDefault(require(\"./getBlobFromURL\"));\nvar embedResources_1 = __importDefault(require(\"./embedResources\"));\nfunction embedBackground(clonedNode, options) {\n    var background = clonedNode.style.getPropertyValue('background');\n    if (!background) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(background)\n        .then(function (cssString) { return embedResources_1.default(cssString, null, options); })\n        .then(function (cssString) {\n        clonedNode.style.setProperty('background', cssString, clonedNode.style.getPropertyPriority('background'));\n        return clonedNode;\n    });\n}\nfunction embedImageNode(clonedNode, options) {\n    if (!(clonedNode instanceof HTMLImageElement) || utils_1.isDataUrl(clonedNode.src)) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(clonedNode.src)\n        .then(function (url) { return getBlobFromURL_1.default(url, options); })\n        .then(function (data) { return utils_1.toDataURL(data, utils_1.getMimeType(clonedNode.src)); })\n        .then(function (dataURL) { return new Promise((function (resolve, reject) {\n        clonedNode.onload = resolve;\n        clonedNode.onerror = reject;\n        clonedNode.src = dataURL;\n    })); })\n        .then(function () { return clonedNode; }, function () { return clonedNode; });\n}\nfunction embedChildren(clonedNode, options) {\n    var children = utils_1.toArray(clonedNode.childNodes);\n    var deferreds = children.map(function (child) { return embedImages(child, options); });\n    return Promise.all(deferreds).then(function () { return clonedNode; });\n}\nfunction embedImages(clonedNode, options) {\n    if (!(clonedNode instanceof Element)) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(clonedNode)\n        .then(function (node) { return embedBackground(node, options); })\n        .then(function (node) { return embedImageNode(node, options); })\n        .then(function (node) { return embedChildren(node, options); });\n}\nexports.default = embedImages;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nfunction createSvgDataURL(clonedNode, width, height) {\n    var xmlns = 'http://www.w3.org/2000/svg';\n    var svg = document.createElementNS(xmlns, 'svg');\n    var foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS('', 'width', \"\" + width);\n    svg.setAttributeNS('', 'height', \"\" + height);\n    foreignObject.setAttributeNS('', 'width', '100%');\n    foreignObject.setAttributeNS('', 'height', '100%');\n    foreignObject.setAttributeNS('', 'x', '0');\n    foreignObject.setAttributeNS('', 'y', '0');\n    foreignObject.setAttributeNS('', 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n    foreignObject.appendChild(clonedNode);\n    return utils_1.svgToDataURL(svg);\n}\nexports.default = createSvgDataURL;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction applyStyleWithOptions(clonedNode, options) {\n    var style = clonedNode.style;\n    if (options.backgroundColor) {\n        style.backgroundColor = options.backgroundColor;\n    }\n    if (options.width) {\n        style.width = options.width + \"px\";\n    }\n    if (options.height) {\n        style.height = options.height + \"px\";\n    }\n    if (options.style) {\n        Object.assign(style, options.style);\n    }\n    return clonedNode;\n}\nexports.default = applyStyleWithOptions;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cloneNode_1 = __importDefault(require(\"./cloneNode\"));\nvar embedWebFonts_1 = __importDefault(require(\"./embedWebFonts\"));\nvar embedImages_1 = __importDefault(require(\"./embedImages\"));\nvar createSvgDataURL_1 = __importDefault(require(\"./createSvgDataURL\"));\nvar applyStyleWithOptions_1 = __importDefault(require(\"./applyStyleWithOptions\"));\nvar utils_1 = require(\"./utils\");\nfunction getImageSize(domNode, options) {\n    if (options === void 0) { options = {}; }\n    var width = options.width || utils_1.getNodeWidth(domNode);\n    var height = options.height || utils_1.getNodeHeight(domNode);\n    return { width: width, height: height };\n}\nfunction toSvgDataURL(domNode, options) {\n    if (options === void 0) { options = {}; }\n    var _a = getImageSize(domNode, options), width = _a.width, height = _a.height;\n    return cloneNode_1.default(domNode, options.filter, true)\n        .then(function (clonedNode) { return embedWebFonts_1.default(clonedNode, options); })\n        .then(function (clonedNode) { return embedImages_1.default(clonedNode, options); })\n        .then(function (clonedNode) { return applyStyleWithOptions_1.default(clonedNode, options); })\n        .then(function (clonedNode) { return createSvgDataURL_1.default(clonedNode, width, height); });\n}\nexports.toSvgDataURL = toSvgDataURL;\nfunction toCanvas(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toSvgDataURL(domNode, options)\n        .then(utils_1.createImage)\n        .then(utils_1.delay(100))\n        .then(function (image) {\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        var ratio = utils_1.getPixelRatio();\n        var _a = getImageSize(domNode, options), width = _a.width, height = _a.height;\n        canvas.width = width * ratio;\n        canvas.height = height * ratio;\n        canvas.style.width = \"\" + width;\n        canvas.style.height = \"\" + height;\n        context.scale(ratio, ratio);\n        if (options.backgroundColor) {\n            context.fillStyle = options.backgroundColor;\n            context.fillRect(0, 0, canvas.width, canvas.height);\n        }\n        context.drawImage(image, 0, 0);\n        return canvas;\n    });\n}\nexports.toCanvas = toCanvas;\nfunction toPixelData(domNode, options) {\n    if (options === void 0) { options = {}; }\n    var _a = getImageSize(domNode, options), width = _a.width, height = _a.height;\n    return toCanvas(domNode, options)\n        .then(function (canvas) { return (canvas.getContext('2d').getImageData(0, 0, width, height).data); });\n}\nexports.toPixelData = toPixelData;\nfunction toPng(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toCanvas(domNode, options).then(function (canvas) { return (canvas.toDataURL()); });\n}\nexports.toPng = toPng;\nfunction toJpeg(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toCanvas(domNode, options).then(function (canvas) { return (canvas.toDataURL('image/jpeg', options.quality || 1)); });\n}\nexports.toJpeg = toJpeg;\nfunction toBlob(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toCanvas(domNode, options).then(utils_1.canvasToBlob);\n}\nexports.toBlob = toBlob;\nexports.default = {\n    toSvgDataURL: toSvgDataURL,\n    toCanvas: toCanvas,\n    toPixelData: toPixelData,\n    toPng: toPng,\n    toJpeg: toJpeg,\n    toBlob: toBlob,\n};\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","<script>\n\timport htmlToImage from 'html-to-image'\n\timport FileSaver  from 'file-saver'\n\t\n\tconst image = 'https://images.weserv.nl/?url=https://telegra.ph/file/0020d15b9dd16834dfca9.jpg'\n\t\n\tlet text = 'Orang Jahat Terlahir Dari Orang Baik Yang Tersakiti'\n\tlet config = {\n\t\talign: 'center',\n\t\tposition: 'top',\n\t\tsize: 5\n\t}\n\t$: hasil = () => {\n\t\treturn text.replace(/a|u|e|o/g, 'i').replace(/A|U|E|O/g, 'I')\n\t}\n\t\n\tconst save = () => {\n\t\thtmlToImage.toBlob(document.getElementById('hasil'))\n\t\t\t.then(function (blob) {\n\t\t\t\tconst fname = hasil().length > 36 ? hasil().slice(0,36) + '... - [alfianokt.github.io/nyinyir].jpg' : hasil() + ' - [alfianokt.github.io/nyinyir].jpg'\n\t\t\t\tsaveAs(blob, fname)\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.error('oops, something went wrong!', error);\n\t\t\t})\n\t}\n</script>\n\n<style>\n@import 'https://unpkg.com/spectre.css@0.5.8/dist/spectre.min.css';\n@import 'https://unpkg.com/spectre.css@0.5.8/dist/spectre-exp.min.css';\n</style>\n\n<div class=\"container\">\n  <div class=\"columns\">\n\t\t<div class=\"column col-md-12 col-6 col-mx-auto mt-2\">\n\t\t\t<div class=\"card\">\n\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t<div class=\"card-title h5\">Tukang Nyinyir</div>\n\t\t\t\t\t<div class=\"card-subtitle text-gray\">\n\t\t\t\t\t\tNyinyir Generator by\n\t\t\t\t\t\t<a href=\"https://www.instagram.com/alfian_oktafireza?s=nyinyir\" target=\"_blank\">Alfian</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t <label class=\"form-label\" for=\"input-text\">Masukkan Kata</label>\n\t\t\t\t\t\t<textarea class=\"form-input\" placeholder=\"Masukkan teks disini\" id=\"input-text\" bind:value={text} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label class=\"form-label\">Align Text (Perataan Teks)</label>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"btn btn-sm form-inline\"\n\t\t\t\t\t\t\tclass:btn-primary={config.align == 'left'}\n\t\t\t\t\t\t\ton:click={() => config.align = 'left'}>\n\t\t\t\t\t\t\tKiri\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"btn btn-sm form-inline\"\n\t\t\t\t\t\t\tclass:btn-primary={config.align == 'center'}\n\t\t\t\t\t\t\ton:click={() => config.align = 'center'}>\n\t\t\t\t\t\t\tTengah\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"btn btn-sm form-inline\"\n\t\t\t\t\t\t\tclass:btn-primary={config.align == 'right'}\n\t\t\t\t\t\t\ton:click={() => config.align = 'right'}>\n\t\t\t\t\t\t\tKanan\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"btn btn-sm form-inline\"\n\t\t\t\t\t\t\tclass:btn-primary={config.align == 'justify'}\n\t\t\t\t\t\t\ton:click={() => config.align = 'justify'}>\n\t\t\t\t\t\t\tKanan - Kiri\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label class=\"form-label\">Posisi Teks</label>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"btn btn-sm form-inline\"\n\t\t\t\t\t\t\tclass:btn-primary={config.position == 'top'}\n\t\t\t\t\t\t\ton:click={() => config.position = 'top'}>\n\t\t\t\t\t\t\tAtas\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"btn btn-sm form-inline\"\n\t\t\t\t\t\t\tclass:btn-primary={config.position == 'bottom'}\n\t\t\t\t\t\t\ton:click={() => config.position = 'bottom'}>\n\t\t\t\t\t\t\tBawah\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label class=\"form-label\">Ukuran Teks</label>\n\t\t\t\t\t\t<input class=\"slider tooltip\" oninput=\"this.setAttribute('value', this.value);\" type=\"range\" min=\"1\" max=\"6\" bind:value={config.size}>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n    <div class=\"column col-md-12 col-6 col-mx-auto mt-2\">\n\t\t\t<div class=\"card\">\n\t\t\t\t<div class=\"card-body columns\">\n\t\t\t\t\t<div class=\"card\" id=\"hasil\">\n\t\t\t\t\t\t{#if config.position == 'top'}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"card-title mx-1\"\n\t\t\t\t\t\t\tclass:h1={config.size == 6}\n\t\t\t\t\t\t\tclass:h2={config.size == 5}\n\t\t\t\t\t\t\tclass:h3={config.size == 4}\n\t\t\t\t\t\t\tclass:h4={config.size == 3}\n\t\t\t\t\t\t\tclass:h5={config.size == 2}\n\t\t\t\t\t\t\tclass:h6={config.size == 1}\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tclass:text-left={config.align == 'left'}\n\t\t\t\t\t\t\tclass:text-center={config.align == 'center'}\n\t\t\t\t\t\t\tclass:text-right={config.align == 'right'}\n\t\t\t\t\t\t\tclass:text-justify={config.align == 'justify'}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{hasil()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<div class=\"card-image\">\n\t\t\t\t\t\t\t<img src={image} alt=\"Image Master\" class=\"img-responsive\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{#if config.position == 'bottom'}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"card-title mx-1\"\n\t\t\t\t\t\t\tclass:h1={config.size == 6}\n\t\t\t\t\t\t\tclass:h2={config.size == 5}\n\t\t\t\t\t\t\tclass:h3={config.size == 4}\n\t\t\t\t\t\t\tclass:h4={config.size == 3}\n\t\t\t\t\t\t\tclass:h5={config.size == 2}\n\t\t\t\t\t\t\tclass:h6={config.size == 1}\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\tclass:text-left={config.align == 'left'}\n\t\t\t\t\t\t\tclass:text-center={config.align == 'center'}\n\t\t\t\t\t\t\tclass:text-right={config.align == 'right'}\n\t\t\t\t\t\t\tclass:text-justify={config.align == 'justify'}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{hasil()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t<button class=\"btn\" on:click={save}>Simpan Ke Galeri</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n  </div>\n</div>","import App from './App.svelte';\n\nvar app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","set_input_value","input","toggle_class","toggle","classList","current_component","set_current_component","component","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","push","flush","seen_callbacks","Set","length","shift","update","$$","pop","i","callback","has","add","fragment","before_update","dirty","p","ctx","after_update","outroing","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","parent_component","prop_values","bound","on_mount","on_destroy","context","Map","callbacks","ready","block","local","ret","rest","hydrate","l","Array","from","childNodes","children","c","intro","delete","m","new_on_destroy","map","filter","mount_component","defineProperty","exports","counter","WOFF","mimes","woff","woff2","ttf","eot","png","jpg","jpeg","gif","tiff","svg","parseExtension","url","match","exec","getMimeType","ext","toLowerCase","createImage","reject","image","Image","onload","onerror","crossOrigin","src","getDataURLContent","dataURL","split","px","styleProperty","window","getComputedStyle","getPropertyValue","parseFloat","replace","getPixelRatio","devicePixelRatio","Math","random","pow","toString","slice","ms","args","setTimeout","search","content","mimeType","canvas","toBlob","binaryString","atob","toDataURL","len","binaryArray","Uint8Array","charCodeAt","Blob","type","arrayLike","arr","leftBorder","rightBorder","scrollWidth","topBorder","bottomBorder","scrollHeight","XMLSerializer","serializeToString","encodeURIComponent","html","width","height","getContext","ratio","style","scale","drawImage","getPseudoElementStyle","className","pseudo","selector","cssText","formatCssText","utils_1","toArray","getPropertyPriority","join","formatCssProperties","nativeNode","clonedNode","uuid","styleElement","clonePseudoElement","__importDefault","this","mod","__esModule","default","clonePseudoElements_1","require$$0","cloneSingleNode","HTMLCanvasElement","tagName","svgToDataURL","cloneNode","decorate","Element","source","setProperty","cloneCssStyle","HTMLTextAreaElement","innerHTML","HTMLInputElement","cloneInputValue","domNode","isRoot","reduce","done","child","clonedChild","cloneChildren","cacheBust","test","Date","getTime","fetch","response","blob","reader","FileReader","onloadend","result","readAsDataURL","catch","req","XMLHttpRequest","onreadystatechange","readyState","status","encoder","Error","ontimeout","responseType","timeout","open","send","reason","placeholder","imagePlaceholder","msg","message","console","error","getBlobFromURL_1","URL_REGEX","parseURLs","str","raw","quotation","isDataUrl","embed","cssString","resourceURL","baseURL","resolvedURL","baseUrl","location","protocol","doc","implementation","createHTMLDocument","base","head","body","href","resolveUrl","RegExp","escape","shouldEmbed","string","urls","__importStar","k","hasOwnProperty","call","embedResources_1","parseCSS","undefined","css","cssCommentsRegex","keyframesRegex","unified","fetchCSS","sheet","res","e","log","embedFonts","resolved","fontLoadedPromises","startsWith","URL","all","getCssRules","styleSheets","promises","cssRules","item","CSSRule","IMPORT_RULE","rule","insertRule","inline_1","find","getWebFontRules","FONT_FACE_RULE","parseWebFontRules","ownerDocument","rules","parentStyleSheet","cssStrings","styleNode","sytleContent","firstChild","require$$1","embedImages","background","embedBackground","HTMLImageElement","embedImageNode","deferreds","embedChildren","xmlns","createElementNS","foreignObject","setAttributeNS","backgroundColor","assign","cloneNode_1","embedWebFonts_1","embedImages_1","require$$2","createSvgDataURL_1","require$$3","applyStyleWithOptions_1","require$$4","getImageSize","getNodeWidth","getNodeHeight","toSvgDataURL","_a","toCanvas","delay","fillStyle","fillRect","toPixelData","getImageData","toPng","toJpeg","quality","canvasToBlob","d","dispatchEvent","MouseEvent","createEvent","initMouseEvent","f","self","global","saveAs","HTMLAnchorElement","prototype","g","h","webkitURL","j","download","rel","origin","createObjectURL","revokeObjectURL","navigator","msSaveOrOpenBlob","autoBom","warn","title","innerText","HTMLElement","safari","userAgent","module","size","align","position","config","hasil","htmlToImage","getElementById","fname","[object Object]","detaching","destroy_component","$destroy","index","indexOf","splice"],"mappings":"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"}